(this["webpackJsonprevv-suite"]=this["webpackJsonprevv-suite"]||[]).push([[7],{1134:function(e,t,r){"use strict";function a(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}r.r(t),r.d(t,"default",(function(){return De}));var n=r(111),i=r.n(n),o=r(128),s=r(48),l=r(49),c=r(52),d=r(51),u=r(561),f=r(0),p=r.n(f),v=r(562),h=r.n(v),b=r(141),j=r(129),m=r.n(j).a.create({baseURL:"https://us-east-1.aws.webhooks.mongodb-realm.com/api/client/v2.0/app/revv-suite-qdwss/service/revv-data/incoming_webhook/"}),g=r(472),O=r(14),w=r.n(O);function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},x.apply(this,arguments)}var E="undefined"!==typeof window?f.useLayoutEffect:f.useEffect,y={popupContent:{tooltip:{position:"absolute",zIndex:999},modal:{position:"relative",margin:"auto"}},popupArrow:{height:"8px",width:"16px",position:"absolute",background:"transparent",color:"#FFF",zIndex:-1},overlay:{tooltip:{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",zIndex:999},modal:{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",display:"flex",zIndex:999}}},R=["top left","top center","top right","right top","right center","right bottom","bottom left","bottom center","bottom right","left top","left center","left bottom"],k=function(e,t,r,a,n){var i=n.offsetX,o=n.offsetY,s=a?8:0,l=r.split(" "),c=e.top+e.height/2,d=e.left+e.width/2,u=t.height,f=t.width,p=c-u/2,v=d-f/2,h="",b="0%",j="0%";switch(l[0]){case"top":p-=u/2+e.height/2+s,h="rotate(180deg)  translateX(50%)",b="100%",j="50%";break;case"bottom":p+=u/2+e.height/2+s,h="rotate(0deg) translateY(-100%) translateX(-50%)",j="50%";break;case"left":v-=f/2+e.width/2+s,h=" rotate(90deg)  translateY(50%) translateX(-25%)",j="100%",b="50%";break;case"right":v+=f/2+e.width/2+s,h="rotate(-90deg)  translateY(-150%) translateX(25%)",b="50%"}switch(l[1]){case"top":p=e.top,b=e.height/2+"px";break;case"bottom":p=e.top-u+e.height,b=u-e.height/2+"px";break;case"left":v=e.left,j=e.width/2+"px";break;case"right":v=e.left-f+e.width,j=f-e.width/2+"px"}return{top:p="top"===l[0]?p-o:p+o,left:v="left"===l[0]?v-i:v+i,transform:h,arrowLeft:j,arrowTop:b}},V=function(e,t,r,a,n,i){var o=n.offsetX,s=n.offsetY,l={arrowLeft:"0%",arrowTop:"0%",left:0,top:0,transform:"rotate(135deg)"},c=0,d=function(e){var t={top:0,left:0,width:window.innerWidth,height:window.innerHeight};if("string"===typeof e){var r=document.querySelector(e);null!==r&&(t=r.getBoundingClientRect())}return t}(i),u=Array.isArray(r)?r:[r];for((i||Array.isArray(r))&&(u=[].concat(u,R));c<u.length;){var f={top:(l=k(e,t,u[c],a,{offsetX:o,offsetY:s})).top,left:l.left,width:t.width,height:t.height};if(!(f.top<=d.top||f.left<=d.left||f.top+f.height>=d.top+d.height||f.left+f.width>=d.left+d.width))break;c++}return l},P=0,S=Object(f.forwardRef)((function(e,t){var r=e.trigger,a=void 0===r?null:r,n=e.onOpen,i=void 0===n?function(){}:n,o=e.onClose,s=void 0===o?function(){}:o,l=e.defaultOpen,c=void 0!==l&&l,d=e.open,u=void 0===d?void 0:d,v=e.disabled,h=void 0!==v&&v,b=e.nested,j=void 0!==b&&b,m=e.closeOnDocumentClick,g=void 0===m||m,O=e.repositionOnResize,R=void 0===O||O,k=e.closeOnEscape,S=void 0===k||k,T=e.on,z=void 0===T?["click"]:T,D=e.contentStyle,C=void 0===D?{}:D,F=e.arrowStyle,A=void 0===F?{}:F,L=e.overlayStyle,I=void 0===L?{}:L,_=e.className,W=void 0===_?"":_,N=e.position,B=void 0===N?"bottom center":N,M=e.modal,U=void 0!==M&&M,X=e.lockScroll,Y=void 0!==X&&X,$=e.arrow,J=void 0===$||$,H=e.offsetX,q=void 0===H?0:H,G=e.offsetY,K=void 0===G?0:G,Q=e.mouseEnterDelay,Z=void 0===Q?100:Q,ee=e.mouseLeaveDelay,te=void 0===ee?100:ee,re=e.keepTooltipInside,ae=void 0!==re&&re,ne=e.children,ie=Object(f.useState)(u||c),oe=ie[0],se=ie[1],le=Object(f.useRef)(null),ce=Object(f.useRef)(null),de=Object(f.useRef)(null),ue=Object(f.useRef)(null),fe=Object(f.useRef)("popup-"+ ++P),pe=!!U||!a,ve=Object(f.useRef)(0);E((function(){return oe?(ue.current=document.activeElement,ke(),Ee(),we()):xe(),function(){clearTimeout(ve.current)}}),[oe]),Object(f.useEffect)((function(){"boolean"===typeof u&&(u?he():be())}),[u,h]);var he=function(e){oe||h||(se(!0),setTimeout((function(){return i(e)}),0))},be=function(e){var t;oe&&!h&&(se(!1),pe&&(null===(t=ue.current)||void 0===t||t.focus()),setTimeout((function(){return s(e)}),0))},je=function(e){null===e||void 0===e||e.stopPropagation(),oe?be(e):he(e)},me=function(e){clearTimeout(ve.current),ve.current=setTimeout((function(){return he(e)}),Z)},ge=function(e){null===e||void 0===e||e.preventDefault(),je()},Oe=function(e){clearTimeout(ve.current),ve.current=setTimeout((function(){return be(e)}),te)},we=function(){pe&&Y&&(document.getElementsByTagName("body")[0].style.overflow="hidden")},xe=function(){pe&&Y&&(document.getElementsByTagName("body")[0].style.overflow="auto")},Ee=function(){var e,t=null===ce||void 0===ce||null===(e=ce.current)||void 0===e?void 0:e.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),r=Array.prototype.slice.call(t)[0];null===r||void 0===r||r.focus()};Object(f.useImperativeHandle)(t,(function(){return{open:function(){he()},close:function(){be()},toggle:function(){je()}}}));var ye,Re,ke=function(){if(!pe&&oe&&(null===le||void 0===le?void 0:le.current)&&(null===le||void 0===le?void 0:le.current)&&(null===ce||void 0===ce?void 0:ce.current)){var e,t,r=le.current.getBoundingClientRect(),a=ce.current.getBoundingClientRect(),n=V(r,a,B,J,{offsetX:q,offsetY:K},ae);if(ce.current.style.top=n.top+window.scrollY+"px",ce.current.style.left=n.left+window.scrollX+"px",J&&de.current)de.current.style.transform=n.transform,de.current.style.setProperty("-ms-transform",n.transform),de.current.style.setProperty("-webkit-transform",n.transform),de.current.style.top=(null===(e=A.top)||void 0===e?void 0:e.toString())||n.arrowTop,de.current.style.left=(null===(t=A.left)||void 0===t?void 0:t.toString())||n.arrowLeft}};ye=be,void 0===(Re=S)&&(Re=!0),Object(f.useEffect)((function(){if(Re){var e=function(e){"Escape"===e.key&&ye(e)};return document.addEventListener("keyup",e),function(){Re&&document.removeEventListener("keyup",e)}}}),[ye,Re]),function(e,t){void 0===t&&(t=!0),Object(f.useEffect)((function(){if(t){var r=function(t){if(9===t.keyCode){var r,a=null===e||void 0===e||null===(r=e.current)||void 0===r?void 0:r.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),n=Array.prototype.slice.call(a);if(1===n.length)return void t.preventDefault();var i=n[0],o=n[n.length-1];t.shiftKey&&document.activeElement===i?(t.preventDefault(),o.focus()):document.activeElement===o&&(t.preventDefault(),i.focus())}};return document.addEventListener("keydown",r),function(){t&&document.removeEventListener("keydown",r)}}}),[e,t])}(ce,oe&&pe),function(e,t){void 0===t&&(t=!0),Object(f.useEffect)((function(){if(t){var r=function(){e()};return window.addEventListener("resize",r),function(){t&&window.removeEventListener("resize",r)}}}),[e,t])}(ke,R),function(e,t,r){void 0===r&&(r=!0),Object(f.useEffect)((function(){if(r){var a=function(r){var a=Array.isArray(e)?e:[e],n=!1;a.forEach((function(e){e.current&&!e.current.contains(r.target)||(n=!0)})),r.stopPropagation(),n||t(r)};return document.addEventListener("mousedown",a),document.addEventListener("touchstart",a),function(){r&&(document.removeEventListener("mousedown",a),document.removeEventListener("touchstart",a))}}}),[e,t,r])}(a?[ce,le]:[ce],be,g&&!j);var Ve=function(){return p.a.createElement("div",Object.assign({},function(){var e=pe?y.popupContent.modal:y.popupContent.tooltip,t={className:"popup-content "+(""!==W?W.split(" ").map((function(e){return e+"-content"})).join(" "):""),style:x({},e,C,{pointerEvents:"auto"}),ref:ce,onClick:function(e){e.stopPropagation()}};return!U&&z.indexOf("hover")>=0&&(t.onMouseEnter=me,t.onMouseLeave=Oe),t}(),{key:"C",role:pe?"dialog":"tooltip",id:fe.current}),J&&!pe&&p.a.createElement("div",{ref:de,style:y.popupArrow},p.a.createElement("svg",{"data-testid":"arrow",className:"popup-arrow "+(""!==W?W.split(" ").map((function(e){return e+"-arrow"})).join(" "):""),viewBox:"0 0 32 16",style:x({position:"absolute"},A)},p.a.createElement("path",{d:"M16 0l16 16H0z",fill:"currentcolor"}))),ne&&"function"===typeof ne?ne(be,oe):ne)},Pe=!(z.indexOf("hover")>=0),Se=pe?y.overlay.modal:y.overlay.tooltip,Te=[Pe&&p.a.createElement("div",{key:"O","data-testid":"overlay","data-popup":pe?"modal":"tooltip",className:"popup-overlay "+(""!==W?W.split(" ").map((function(e){return e+"-overlay"})).join(" "):""),style:x({},Se,I,{pointerEvents:g&&j||pe?"auto":"none"}),onClick:g&&j?be:void 0,tabIndex:-1},pe&&Ve()),!pe&&Ve()];return p.a.createElement(p.a.Fragment,null,function(){for(var e={key:"T",ref:le,"aria-describedby":fe.current},t=Array.isArray(z)?z:[z],r=0,n=t.length;r<n;r++)switch(t[r]){case"click":e.onClick=je;break;case"right-click":e.onContextMenu=ge;break;case"hover":e.onMouseEnter=me,e.onMouseLeave=Oe;break;case"focus":e.onFocus=me,e.onBlur=Oe}if("function"===typeof a){var i=a(oe);return!!a&&p.a.cloneElement(i,e)}return!!a&&p.a.cloneElement(a,e)}(),oe&&w.a.createPortal(Te,function(){var e=document.getElementById("popup-root");return null===e&&((e=document.createElement("div")).setAttribute("id","popup-root"),document.body.appendChild(e)),e}()))})),T=r(564),z=r(329),D=r(331),C=r(1119),F=r(1122),A=r(328),L=r(305),I=r(1123),_=r(1125),W=r(1126),N=r(569),B=r(570),M=r(573),U=r(303),X=r(131),Y=r(788),$=r.n(Y),J=r(584),H=r.n(J),q=r(596),G=r.n(q),K=r(585),Q=r.n(K),Z=r(594),ee=r.n(Z),te=r(588),re=r.n(te),ae=r(586),ne=r.n(ae),ie=r(587),oe=r.n(ie),se=r(589),le=r.n(se),ce=r(591),de=r.n(ce),ue=r(592),fe=r.n(ue),pe=r(593),ve=r.n(pe),he=r(597),be=r.n(he),je=r(590),me=r.n(je),ge=r(595),Oe=r.n(ge),we=r(598),xe=r.n(we),Ee=r(3),ye=["children","onClose"],Re={Add:Object(f.forwardRef)((function(e,t){return Object(Ee.jsx)(H.a,Object(u.a)(Object(u.a)({},e),{},{ref:t}))})),Check:Object(f.forwardRef)((function(e,t){return Object(Ee.jsx)(Q.a,Object(u.a)(Object(u.a)({},e),{},{ref:t}))})),Clear:Object(f.forwardRef)((function(e,t){return Object(Ee.jsx)(ne.a,Object(u.a)(Object(u.a)({},e),{},{ref:t}))})),Delete:Object(f.forwardRef)((function(e,t){return Object(Ee.jsx)(oe.a,Object(u.a)(Object(u.a)({},e),{},{ref:t}))})),DetailPanel:Object(f.forwardRef)((function(e,t){return Object(Ee.jsx)(re.a,Object(u.a)(Object(u.a)({},e),{},{ref:t}))})),Edit:Object(f.forwardRef)((function(e,t){return Object(Ee.jsx)(le.a,Object(u.a)(Object(u.a)({},e),{},{ref:t}))})),Export:Object(f.forwardRef)((function(e,t){return Object(Ee.jsx)(me.a,Object(u.a)(Object(u.a)({},e),{},{ref:t}))})),Filter:Object(f.forwardRef)((function(e,t){return Object(Ee.jsx)(de.a,Object(u.a)(Object(u.a)({},e),{},{ref:t}))})),FirstPage:Object(f.forwardRef)((function(e,t){return Object(Ee.jsx)(fe.a,Object(u.a)(Object(u.a)({},e),{},{ref:t}))})),LastPage:Object(f.forwardRef)((function(e,t){return Object(Ee.jsx)(ve.a,Object(u.a)(Object(u.a)({},e),{},{ref:t}))})),NextPage:Object(f.forwardRef)((function(e,t){return Object(Ee.jsx)(re.a,Object(u.a)(Object(u.a)({},e),{},{ref:t}))})),PreviousPage:Object(f.forwardRef)((function(e,t){return Object(Ee.jsx)(ee.a,Object(u.a)(Object(u.a)({},e),{},{ref:t}))})),ResetSearch:Object(f.forwardRef)((function(e,t){return Object(Ee.jsx)(ne.a,Object(u.a)(Object(u.a)({},e),{},{ref:t}))})),Search:Object(f.forwardRef)((function(e,t){return Object(Ee.jsx)(Oe.a,Object(u.a)(Object(u.a)({},e),{},{ref:t}))})),SortArrow:Object(f.forwardRef)((function(e,t){return Object(Ee.jsx)(G.a,Object(u.a)(Object(u.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(f.forwardRef)((function(e,t){return Object(Ee.jsx)(be.a,Object(u.a)(Object(u.a)({},e),{},{ref:t}))})),ViewColumn:Object(f.forwardRef)((function(e,t){return Object(Ee.jsx)(xe.a,Object(u.a)(Object(u.a)({},e),{},{ref:t}))}))};function ke(e,t,r){var a=e.filter((function(e){return e[t]===r}));if(a.length>0)return a[0]}function Ve(e,t,r,a,n){var i=Object(Ee.jsx)("div",{}),o="$";a.toUpperCase().includes("REVV")&&(o="REVV");var s=a.replace(/\D/g,"");if(e&&e.total>0){var l=e.total,c=e.hired,d=e.owner/l,u=c/l,f=!1;n||(d=.5,u=.5,f=!0);var p=!1;for(var v in t){t[v].unit=o;var h=1;if(t[v].prize<1||f){if(v<t.length-1){var b=parseInt(v)+1;t[b].rank-t[v].rank>1&&(p=!0,t[v].rankString=t[v].rank.toString()+" - "+(t[b].rank-1).toString(),h=parseInt(t[b].rank)-parseInt(t[v].rank))}else p&&(t[v].rankString=t[v].rank.toString()+"+*",h=3e3);t[v].rankString||(t[v].rankString=t[v].rank.toString());var j=t[v].prize*(f?1:s);t[v].hiredPrize=((f?1:u)*j/h).toFixed(2),t[v].ownerPrize=((f?1:d)*j/h).toFixed(2)}}i=Object(Ee.jsxs)(_.a,{children:[Object(Ee.jsx)(B.a,{children:Object(Ee.jsxs)(M.a,{children:[Object(Ee.jsx)(N.a,{children:"Rank"}),Object(Ee.jsxs)(N.a,{children:["Driver Prize ",r&&"("+(100*d).toFixed(2)+"%)"]}),r&&Object(Ee.jsxs)(N.a,{children:["Hired Prize (",(100*u).toFixed(2),"%)"]})]})}),Object(Ee.jsx)(W.a,{children:t.map((function(e){return Object(Ee.jsxs)(M.a,{children:[Object(Ee.jsx)(N.a,{children:e.rankString?e.rankString:e.rank}),Object(Ee.jsxs)(N.a,{children:[r?e.ownerPrize:e.prize," ",o]}),r&&Object(Ee.jsxs)(N.a,{children:[e.hiredPrize," ",o]})]})}))})]})}else i=Object(Ee.jsx)(z.a,{sx:{minWidth:275},children:Object(Ee.jsx)(D.a,{align:"center",children:Object(Ee.jsx)("h1",{children:"Prize Data Not Available"})})});return i}var Pe=function(e){Object(c.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(s.a)(this,r),(a=t.call(this,e)).getPrizeData=Object(o.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.props.eventData.id.toUpperCase(),e.next=3,m.get("prizes",{params:{sessionID:r}}).then((function(e){t=e.data[0],a.setPrizeData(t)})).catch((function(e){console.error(e)}));case 3:case"end":return e.stop()}}),e)}))),a.state={prizeTable:Object(Ee.jsx)(I.a,{}),prizeData:void 0},a}return Object(l.a)(r,[{key:"setPrizeData",value:function(e){this.setState({prizeData:e}),this.generatePrizeTableContent(e,this.props.eventData.data.prize,this.props.eventData.data.splitLeaderboard,this.props.eventData.data.prize_total.toString(),this.props.eventData.data.dynamicPrizePoolRatio)}},{key:"generatePrizeTableContent",value:function(e,t,r,a,n){this.setPrizeTable(Ve(e,t,r,a,n))}},{key:"setPrizeTable",value:function(e){this.setState({prizeTable:e})}},{key:"componentDidMount",value:function(){this.getPrizeData()}},{key:"render",value:function(){return Object(Ee.jsx)("div",{children:this.state.prizeTable})}}]),r}(f.Component),Se=function(e){var t=e.children,r=e.onClose,n=a(e,ye);return Object(Ee.jsxs)(F.a,Object(u.a)(Object(u.a)({sx:{m:0,p:2}},n),{},{children:[t,r?Object(Ee.jsx)(L.a,{"aria-label":"close",onClick:r,style:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:Object(Ee.jsx)($.a,{})}):null]}))},Te=[{title:"Series",field:"data.series",hidden:!0},{title:"Name",field:"data.name",filterPlaceholder:"Filter Name"},{title:"Rank",field:"rank",filterPlaceholder:"Filter Rank",hidden:!0},{title:"REVV",field:"RewardString",filterPlaceholder:"Filter REVV",hidden:!0},{title:"Tries",field:"tries",filterPlaceholder:"Filter Tries",hidden:!0},{title:"View Pizes",field:"",render:function(e){return new Date(e.endTimestamp).getTime()<(new Date).getTime()?Object(Ee.jsx)(S,{trigger:Object(Ee.jsx)("a",{children:"View Prizes"}),position:"bottom center",closeOnDocumentClick:!1,modal:!0,closeOnEscape:!0,children:function(t){return Object(Ee.jsxs)(C.a,{open:!0,onClose:t,children:[Object(Ee.jsx)(Se,{id:"customized-dialog-title",onClose:t,children:"Prize Distribution"}),Object(Ee.jsx)(Pe,{eventData:e})]})}}):Object(Ee.jsxs)("div",{children:[new Date(e.startTimestamp).getTime()<(new Date).getTime()?"In Progress":"Upcoming","..."]})}},{title:"Start",field:"startTimestamp",type:"date",filterPlaceholder:"Filter Start"},{title:"End",field:"endTimestamp",type:"date",filterPlaceholder:"Filter End"},{title:"Track",field:"data.track",filterPlaceholder:"Filter Track"},{title:"Laps",field:"data.lapCount",filterPlaceholder:"Filter Laps"},{title:"Weather",field:"data.weather",filterPlaceholder:"Filter Weather"},{title:"Total Prize",field:"data.prize_total_formatted",filterPlaceholder:"Filter Prize"},{title:"id",field:"id",hidden:!0},{title:"percentagePrizePool",field:"data.percentagePrizePool",hidden:!0},{title:"dynamicPrizePoolRatio",field:"data.dynamicPrizePoolRatio",hidden:!0},{title:"splitLeaderboard",field:"data.splitLeaderboard",hidden:!0}];function ze(e){return e.map((function(e){return e.startTimestamp=new Date(parseFloat(e.startTimestamp)),e.endTimestamp=new Date(parseFloat(e.endTimestamp)),e.data.prize_total.toString().includes("REVV")?e.data.prize_total_formatted=e.data.prize_total:e.data.prize_total_formatted=e.data.prize_total.toString()+" $",e})),(e=e.filter((function(e){return!e.data.practice}))).sort((function(e,t){return new Date(t.startTimestamp)-new Date(e.startTimestamp)})),e}var De=function(e){Object(c.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(s.a)(this,r),(a=t.call(this,e)).BasicTable=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("events").then((function(e){t=ze(t=e.data),a.setEventData(t),a.setEventDataLoaded(!0)})).catch((function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)}))),a.getREVVPrice=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("price?ids=revv&vs_currencies=usd").then((function(e){a.setREVVPrice(e.data.revv.usd)})).catch((function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.setWalletPosition=function(){var e=Object(o.a)(i.a.mark((function e(t,r){var n,o,s,l,c,d,u,f;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({walletPositions:t}),(n=(n=JSON.parse(JSON.stringify(a.state.columns))).filter((function(e){return""!==e.field})))[2].hidden=!1,n[3].hidden=!1,n[4].hidden=!1,n[5].hidden=!0,a.setState({columns:n}),a.getREVVPrice(),o=0,s=0,l=0,c=0,d=0,u=JSON.parse(JSON.stringify(a.state.eventData)),e.next=17,m.get("prizes").then((function(e){f=e.data})).catch((function(e){console.error(e)}));case 17:u.forEach((function(e){e.REVVReward=0,e.dollarReward=0,e.rank=0;var a=r.reduce((function(t,r){return t+(new Date(r.timeStamp)>=new Date(e.startTimestamp)&&new Date(r.timeStamp)<=new Date(e.endTimestamp))}),0),n=ke(f,"session_id",e.id.toUpperCase());if(n&&t[e.id]){var i=t[e.id],u=parseInt(i.rank);e.rank=u,Ve(n,e.data.prize,e.data.splitLeaderboard,e.data.prize_total.toString(),e.data.dynamicPrizePoolRatio);for(var p=e.data.prize,v=void 0,h=0;h<p.length;h++){var b=p[h],j=h+1;if(j===p.length){v=b;break}if(u>=parseInt(b.rank)&&u<parseInt(p[j].rank)){v=b;break}}if(e.unit="REVV",v){var m="";m=i.leaderboard_id.includes("SPLIT")?i.hired?v.hiredPrize:v.ownerPrize:v.prize,"REVV"===v.unit?(e.tries=a,d+=parseFloat(a),c+=1,e.REVVReward+=parseFloat(m),e.RewardString=e.REVVReward.toString()+" REVV",o+=parseFloat(m),l+=u):(e.unit="$",e.tries=a,e.dollarReward+=parseFloat(m),s+=parseFloat(m),e.RewardString=e.dollarReward.toString()+" $")}}})),l>0&&o>0?a.setAverages(o/c,l/c,d/c):a.setAverages(0,0),a.setTotalPrizes(o,s,d),a.setEventData(u),a.setEventDataLoaded(!0);case 22:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),a.getWalletPositions=Object(o.a)(i.a.mark((function e(){var t,r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setEventDataLoaded(!1),t={},e.next=4,m.get("walletPositions",{params:{walletAddress:a.state.walletAddress.toUpperCase()}});case 4:return r=(r=e.sent).data,a.state.eventData.forEach((function(e){var a="GAME_SESSION_ALPHA_A_";if(e.data.splitLeaderboard){var n=a+e.id.toUpperCase()+"_SPLIT_OWNER",i=a+e.id.toUpperCase()+"_SPLIT_HIRED",o=ke(r,"leaderboard_id",n),s=ke(r,"leaderboard_id",i);o?t[e.id]=o:s&&(s.hired=!0,t[e.id]=s)}else{var l=a+e.id.toUpperCase(),c=ke(r,"leaderboard_id",l);c&&(t[e.id]=c)}})),e.next=9,g.a.get("&address=".concat(a.state.walletAddress)).then((function(e){n=e.data.result,n=a.filterTransactions(n)})).catch((function(e){console.error(e)}));case 9:return e.next=11,a.setWalletPosition(t,n);case 11:case"end":return e.stop()}}),e)}))),a.state={eventData:void 0,eventDataLoaded:!1,walletAddress:"",walletPositions:void 0,columns:Te,totalREVV:void 0,totalDollars:void 0,totalTries:void 0,REVVPrice:0,averageRank:0,averageREVV:0,averageTries:0},a}return Object(l.a)(r,[{key:"setEventData",value:function(e){this.setState({eventData:e})}},{key:"setEventDataLoaded",value:function(e){this.setState({eventDataLoaded:e})}},{key:"componentDidMount",value:function(){this.BasicTable()}},{key:"setWalletAddress",value:function(e){this.setState({walletAddress:e,walletPositions:void 0,columns:Te,totalREVV:void 0,totalDollars:void 0,totalTries:void 0,REVVPrice:0,averageRank:0,averageREVV:0,averageTries:0})}},{key:"filterWallet",value:function(e){return e.wallet===this.walletAddress}},{key:"setREVVPrice",value:function(e){this.setState({REVVPrice:e})}},{key:"setTotalPrizes",value:function(e,t,r){this.setState({totalREVV:e,totalDollars:t,totalTries:r})}},{key:"filterTransactions",value:function(e){return e=(e=e.filter((function(e){return"REVV"===e.tokenSymbol&&e.to.toUpperCase()==="0x069895FdA566d0364ABEc6e290BeE3D565c55666".toUpperCase()&&"5000000000000000000"===e.value}))).map((function(e){return e.timeStamp=new Date(1e3*e.timeStamp),e}))}},{key:"setAverages",value:function(e,t,r){this.setState({averageREVV:e,averageRank:t,averageTries:r})}},{key:"render",value:function(){var e=this;return Object(Ee.jsxs)(A.a,{container:!0,spacing:3,children:[Object(Ee.jsx)(A.a,{item:!0,md:12,xs:12,children:Object(Ee.jsx)(U.a,{id:"wallet-address",label:"Wallet Address",variant:"outlined",fullWidth:!0,focused:!0,placeholder:"0x000...",onChange:function(t){return e.setWalletAddress(t.target.value)}})}),Object(Ee.jsx)(A.a,{item:!0,xs:12,alignContent:"center",alignItems:"center",children:Object(Ee.jsx)(T.a,{color:"primary",fullWidth:!0,variant:"contained",onClick:function(){return e.getWalletPositions()},children:"Get Wallet List"})}),this.state.totalREVV&&Object(Ee.jsxs)(p.a.Fragment,{children:[Object(Ee.jsx)(A.a,{item:!0,md:6,xs:12,alignContent:"center",alignItems:"center",children:Object(Ee.jsx)(U.a,{id:"totalRevv",label:"Total REVV (New Prize Structure)",variant:"outlined",disabled:!0,fullWidth:!0,value:this.state.totalREVV.toFixed(2).toString()+" REVV"+(this.state.REVVPrice?" ("+(this.state.REVVPrice*this.state.totalREVV).toFixed(2).toString()+" $)":"")})}),Object(Ee.jsx)(A.a,{item:!0,md:6,xs:12,alignContent:"center",alignItems:"center",children:Object(Ee.jsx)(U.a,{id:"totalDollars",label:"Total Dollars (Old Prize Structure)",variant:"outlined",disabled:!0,fullWidth:!0,value:this.state.totalDollars.toFixed(2).toString()+" $"})})]}),this.state.averageRank>0&&Object(Ee.jsxs)(p.a.Fragment,{children:[Object(Ee.jsx)(A.a,{item:!0,md:6,xs:12,alignContent:"center",alignItems:"center",children:Object(Ee.jsx)(U.a,{id:"averageRank",label:"Average Rank (New Prize Structure)",variant:"outlined",disabled:!0,fullWidth:!0,value:this.state.averageRank.toFixed(0).toString()})}),Object(Ee.jsx)(A.a,{item:!0,md:6,xs:12,alignContent:"center",alignItems:"center",children:Object(Ee.jsx)(U.a,{id:"averageREVV",label:"Average REVV Earned (New Prize Structure)",variant:"outlined",disabled:!0,fullWidth:!0,value:this.state.averageREVV.toFixed(2).toString()+" REVV"+(this.state.REVVPrice?" ("+(this.state.REVVPrice*this.state.averageREVV).toFixed(2).toString()+" $)":"")})})]}),this.state.totalTries&&Object(Ee.jsxs)(p.a.Fragment,{children:[Object(Ee.jsx)(A.a,{item:!0,md:6,xs:12,alignContent:"center",alignItems:"center",children:Object(Ee.jsx)(U.a,{id:"totalTries",label:"Total Tries (New Prize Structure)",variant:"outlined",disabled:!0,fullWidth:!0,value:this.state.totalTries.toFixed(0).toString()+" Tries"+(this.state.REVVPrice?" ("+5*this.state.totalTries+" REVV/"+(this.state.REVVPrice*this.state.totalTries*5).toFixed(2).toString()+" $)":"")})}),Object(Ee.jsx)(A.a,{item:!0,md:6,xs:12,alignContent:"center",alignItems:"center",children:Object(Ee.jsx)(U.a,{id:"averageTries",label:"Average Tries (New Prize Structure)",variant:"outlined",disabled:!0,fullWidth:!0,value:this.state.averageTries.toFixed(0).toString()+" Tries"+(this.state.REVVPrice?" ("+(5*this.state.averageTries).toFixed(2)+" REVV/"+(this.state.REVVPrice*this.state.averageTries*5).toFixed(2).toString()+" $)":"")})})]}),Object(Ee.jsx)(A.a,{item:!0,xs:12,children:Object(Ee.jsx)(h.a,{theme:Object(X.a)(),style:{width:"100%",display:"grid"},title:"REVV Leaderboards",columns:this.state.columns,data:this.state.eventData,icons:Re,isLoading:!this.state.eventDataLoaded,options:{pageSize:10,pageSizeOptions:[5,10,20,{value:this.state.eventData?parseInt(this.state.eventData.length):100,label:"All"}],filtering:!0,selection:!0,exportButton:!0},onSelectionChange:function(t){var r=0,a=0,n=0,i=0,o=0;0===t.length&&(t=e.state.eventData),t.forEach((function(e){r+=parseFloat(e.REVVReward),a+=parseFloat(e.dollarReward),"REVV"===e.unit&&(n+=parseFloat(e.rank),i+=1,o+=e.tries)})),n>0&&r>0?e.setAverages(r/i,n/i,o/i):e.setAverages(0,0),e.setTotalPrizes(r,a,o)}})})]})}}]),r}(f.Component)},472:function(e,t,r){"use strict";var a=r(129),n=r.n(a);t.a=n.a.create({baseURL:"https://api.polygonscan.com/api?module=account&action=tokentx&contractaddress=0x70c006878a5a50ed185ac4c87d837633923de296&sort=desc&apikey=NW6MQ4UW5JIEVBH61JW4AK3WY2Q27ZZIM7"})},788:function(e,t,r){"use strict";var a=r(24),n=r(47);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(0)),o=(0,a(r(50)).default)(i.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=o}}]);
//# sourceMappingURL=7.c00c4545.chunk.js.map