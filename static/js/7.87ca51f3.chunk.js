(this["webpackJsonprevv-suite"]=this["webpackJsonprevv-suite"]||[]).push([[7],{1132:function(e,t,r){"use strict";function a(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}r.r(t),r.d(t,"default",(function(){return De}));var n=r(111),i=r.n(n),o=r(128),c=r(48),l=r(49),s=r(52),d=r(51),u=r(560),f=r(0),p=r.n(f),v=r(561),b=r.n(v),h=r(141),j=r(133),m=r.n(j).a.create({baseURL:"https://us-east-1.aws.webhooks.mongodb-realm.com/api/client/v2.0/app/revv-suite-qdwss/service/revv-data/incoming_webhook/"}),O=r(14),g=r.n(O);function w(){return w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},w.apply(this,arguments)}var x="undefined"!==typeof window?f.useLayoutEffect:f.useEffect,y={popupContent:{tooltip:{position:"absolute",zIndex:999},modal:{position:"relative",margin:"auto"}},popupArrow:{height:"8px",width:"16px",position:"absolute",background:"transparent",color:"#FFF",zIndex:-1},overlay:{tooltip:{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",zIndex:999},modal:{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",display:"flex",zIndex:999}}},E=["top left","top center","top right","right top","right center","right bottom","bottom left","bottom center","bottom right","left top","left center","left bottom"],k=function(e,t,r,a,n){var i=n.offsetX,o=n.offsetY,c=a?8:0,l=r.split(" "),s=e.top+e.height/2,d=e.left+e.width/2,u=t.height,f=t.width,p=s-u/2,v=d-f/2,b="",h="0%",j="0%";switch(l[0]){case"top":p-=u/2+e.height/2+c,b="rotate(180deg)  translateX(50%)",h="100%",j="50%";break;case"bottom":p+=u/2+e.height/2+c,b="rotate(0deg) translateY(-100%) translateX(-50%)",j="50%";break;case"left":v-=f/2+e.width/2+c,b=" rotate(90deg)  translateY(50%) translateX(-25%)",j="100%",h="50%";break;case"right":v+=f/2+e.width/2+c,b="rotate(-90deg)  translateY(-150%) translateX(25%)",h="50%"}switch(l[1]){case"top":p=e.top,h=e.height/2+"px";break;case"bottom":p=e.top-u+e.height,h=u-e.height/2+"px";break;case"left":v=e.left,j=e.width/2+"px";break;case"right":v=e.left-f+e.width,j=f-e.width/2+"px"}return{top:p="top"===l[0]?p-o:p+o,left:v="left"===l[0]?v-i:v+i,transform:b,arrowLeft:j,arrowTop:h}},R=function(e,t,r,a,n,i){var o=n.offsetX,c=n.offsetY,l={arrowLeft:"0%",arrowTop:"0%",left:0,top:0,transform:"rotate(135deg)"},s=0,d=function(e){var t={top:0,left:0,width:window.innerWidth,height:window.innerHeight};if("string"===typeof e){var r=document.querySelector(e);null!==r&&(t=r.getBoundingClientRect())}return t}(i),u=Array.isArray(r)?r:[r];for((i||Array.isArray(r))&&(u=[].concat(u,E));s<u.length;){var f={top:(l=k(e,t,u[s],a,{offsetX:o,offsetY:c})).top,left:l.left,width:t.width,height:t.height};if(!(f.top<=d.top||f.left<=d.left||f.top+f.height>=d.top+d.height||f.left+f.width>=d.left+d.width))break;s++}return l},P=0,V=Object(f.forwardRef)((function(e,t){var r=e.trigger,a=void 0===r?null:r,n=e.onOpen,i=void 0===n?function(){}:n,o=e.onClose,c=void 0===o?function(){}:o,l=e.defaultOpen,s=void 0!==l&&l,d=e.open,u=void 0===d?void 0:d,v=e.disabled,b=void 0!==v&&v,h=e.nested,j=void 0!==h&&h,m=e.closeOnDocumentClick,O=void 0===m||m,E=e.repositionOnResize,k=void 0===E||E,V=e.closeOnEscape,z=void 0===V||V,S=e.on,D=void 0===S?["click"]:S,T=e.contentStyle,C=void 0===T?{}:T,L=e.arrowStyle,A=void 0===L?{}:L,F=e.overlayStyle,I=void 0===F?{}:F,_=e.className,W=void 0===_?"":_,N=e.position,M=void 0===N?"bottom center":N,B=e.modal,X=void 0!==B&&B,U=e.lockScroll,Y=void 0!==U&&U,H=e.arrow,J=void 0===H||H,$=e.offsetX,q=void 0===$?0:$,G=e.offsetY,K=void 0===G?0:G,Q=e.mouseEnterDelay,Z=void 0===Q?100:Q,ee=e.mouseLeaveDelay,te=void 0===ee?100:ee,re=e.keepTooltipInside,ae=void 0!==re&&re,ne=e.children,ie=Object(f.useState)(u||s),oe=ie[0],ce=ie[1],le=Object(f.useRef)(null),se=Object(f.useRef)(null),de=Object(f.useRef)(null),ue=Object(f.useRef)(null),fe=Object(f.useRef)("popup-"+ ++P),pe=!!X||!a,ve=Object(f.useRef)(0);x((function(){return oe?(ue.current=document.activeElement,Re(),ye(),we()):xe(),function(){clearTimeout(ve.current)}}),[oe]),Object(f.useEffect)((function(){"boolean"===typeof u&&(u?be():he())}),[u,b]);var be=function(e){oe||b||(ce(!0),setTimeout((function(){return i(e)}),0))},he=function(e){var t;oe&&!b&&(ce(!1),pe&&(null===(t=ue.current)||void 0===t||t.focus()),setTimeout((function(){return c(e)}),0))},je=function(e){null===e||void 0===e||e.stopPropagation(),oe?he(e):be(e)},me=function(e){clearTimeout(ve.current),ve.current=setTimeout((function(){return be(e)}),Z)},Oe=function(e){null===e||void 0===e||e.preventDefault(),je()},ge=function(e){clearTimeout(ve.current),ve.current=setTimeout((function(){return he(e)}),te)},we=function(){pe&&Y&&(document.getElementsByTagName("body")[0].style.overflow="hidden")},xe=function(){pe&&Y&&(document.getElementsByTagName("body")[0].style.overflow="auto")},ye=function(){var e,t=null===se||void 0===se||null===(e=se.current)||void 0===e?void 0:e.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),r=Array.prototype.slice.call(t)[0];null===r||void 0===r||r.focus()};Object(f.useImperativeHandle)(t,(function(){return{open:function(){be()},close:function(){he()},toggle:function(){je()}}}));var Ee,ke,Re=function(){if(!pe&&oe&&(null===le||void 0===le?void 0:le.current)&&(null===le||void 0===le?void 0:le.current)&&(null===se||void 0===se?void 0:se.current)){var e,t,r=le.current.getBoundingClientRect(),a=se.current.getBoundingClientRect(),n=R(r,a,M,J,{offsetX:q,offsetY:K},ae);if(se.current.style.top=n.top+window.scrollY+"px",se.current.style.left=n.left+window.scrollX+"px",J&&de.current)de.current.style.transform=n.transform,de.current.style.setProperty("-ms-transform",n.transform),de.current.style.setProperty("-webkit-transform",n.transform),de.current.style.top=(null===(e=A.top)||void 0===e?void 0:e.toString())||n.arrowTop,de.current.style.left=(null===(t=A.left)||void 0===t?void 0:t.toString())||n.arrowLeft}};Ee=he,void 0===(ke=z)&&(ke=!0),Object(f.useEffect)((function(){if(ke){var e=function(e){"Escape"===e.key&&Ee(e)};return document.addEventListener("keyup",e),function(){ke&&document.removeEventListener("keyup",e)}}}),[Ee,ke]),function(e,t){void 0===t&&(t=!0),Object(f.useEffect)((function(){if(t){var r=function(t){if(9===t.keyCode){var r,a=null===e||void 0===e||null===(r=e.current)||void 0===r?void 0:r.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),n=Array.prototype.slice.call(a);if(1===n.length)return void t.preventDefault();var i=n[0],o=n[n.length-1];t.shiftKey&&document.activeElement===i?(t.preventDefault(),o.focus()):document.activeElement===o&&(t.preventDefault(),i.focus())}};return document.addEventListener("keydown",r),function(){t&&document.removeEventListener("keydown",r)}}}),[e,t])}(se,oe&&pe),function(e,t){void 0===t&&(t=!0),Object(f.useEffect)((function(){if(t){var r=function(){e()};return window.addEventListener("resize",r),function(){t&&window.removeEventListener("resize",r)}}}),[e,t])}(Re,k),function(e,t,r){void 0===r&&(r=!0),Object(f.useEffect)((function(){if(r){var a=function(r){var a=Array.isArray(e)?e:[e],n=!1;a.forEach((function(e){e.current&&!e.current.contains(r.target)||(n=!0)})),r.stopPropagation(),n||t(r)};return document.addEventListener("mousedown",a),document.addEventListener("touchstart",a),function(){r&&(document.removeEventListener("mousedown",a),document.removeEventListener("touchstart",a))}}}),[e,t,r])}(a?[se,le]:[se],he,O&&!j);var Pe=function(){return p.a.createElement("div",Object.assign({},function(){var e=pe?y.popupContent.modal:y.popupContent.tooltip,t={className:"popup-content "+(""!==W?W.split(" ").map((function(e){return e+"-content"})).join(" "):""),style:w({},e,C,{pointerEvents:"auto"}),ref:se,onClick:function(e){e.stopPropagation()}};return!X&&D.indexOf("hover")>=0&&(t.onMouseEnter=me,t.onMouseLeave=ge),t}(),{key:"C",role:pe?"dialog":"tooltip",id:fe.current}),J&&!pe&&p.a.createElement("div",{ref:de,style:y.popupArrow},p.a.createElement("svg",{"data-testid":"arrow",className:"popup-arrow "+(""!==W?W.split(" ").map((function(e){return e+"-arrow"})).join(" "):""),viewBox:"0 0 32 16",style:w({position:"absolute"},A)},p.a.createElement("path",{d:"M16 0l16 16H0z",fill:"currentcolor"}))),ne&&"function"===typeof ne?ne(he,oe):ne)},Ve=!(D.indexOf("hover")>=0),ze=pe?y.overlay.modal:y.overlay.tooltip,Se=[Ve&&p.a.createElement("div",{key:"O","data-testid":"overlay","data-popup":pe?"modal":"tooltip",className:"popup-overlay "+(""!==W?W.split(" ").map((function(e){return e+"-overlay"})).join(" "):""),style:w({},ze,I,{pointerEvents:O&&j||pe?"auto":"none"}),onClick:O&&j?he:void 0,tabIndex:-1},pe&&Pe()),!pe&&Pe()];return p.a.createElement(p.a.Fragment,null,function(){for(var e={key:"T",ref:le,"aria-describedby":fe.current},t=Array.isArray(D)?D:[D],r=0,n=t.length;r<n;r++)switch(t[r]){case"click":e.onClick=je;break;case"right-click":e.onContextMenu=Oe;break;case"hover":e.onMouseEnter=me,e.onMouseLeave=ge;break;case"focus":e.onFocus=me,e.onBlur=ge}if("function"===typeof a){var i=a(oe);return!!a&&p.a.cloneElement(i,e)}return!!a&&p.a.cloneElement(a,e)}(),oe&&g.a.createPortal(Se,function(){var e=document.getElementById("popup-root");return null===e&&((e=document.createElement("div")).setAttribute("id","popup-root"),document.body.appendChild(e)),e}()))})),z=r(563),S=r(329),D=r(331),T=r(1118),C=r(1121),L=r(328),A=r(305),F=r(1122),I=r(1124),_=r(1125),W=r(568),N=r(569),M=r(572),B=r(303),X=r(130),U=r(787),Y=r.n(U),H=r(583),J=r.n(H),$=r(595),q=r.n($),G=r(584),K=r.n(G),Q=r(593),Z=r.n(Q),ee=r(587),te=r.n(ee),re=r(585),ae=r.n(re),ne=r(586),ie=r.n(ne),oe=r(588),ce=r.n(oe),le=r(590),se=r.n(le),de=r(591),ue=r.n(de),fe=r(592),pe=r.n(fe),ve=r(596),be=r.n(ve),he=r(589),je=r.n(he),me=r(594),Oe=r.n(me),ge=r(597),we=r.n(ge),xe=r(3),ye=["children","onClose"],Ee={Add:Object(f.forwardRef)((function(e,t){return Object(xe.jsx)(J.a,Object(u.a)(Object(u.a)({},e),{},{ref:t}))})),Check:Object(f.forwardRef)((function(e,t){return Object(xe.jsx)(K.a,Object(u.a)(Object(u.a)({},e),{},{ref:t}))})),Clear:Object(f.forwardRef)((function(e,t){return Object(xe.jsx)(ae.a,Object(u.a)(Object(u.a)({},e),{},{ref:t}))})),Delete:Object(f.forwardRef)((function(e,t){return Object(xe.jsx)(ie.a,Object(u.a)(Object(u.a)({},e),{},{ref:t}))})),DetailPanel:Object(f.forwardRef)((function(e,t){return Object(xe.jsx)(te.a,Object(u.a)(Object(u.a)({},e),{},{ref:t}))})),Edit:Object(f.forwardRef)((function(e,t){return Object(xe.jsx)(ce.a,Object(u.a)(Object(u.a)({},e),{},{ref:t}))})),Export:Object(f.forwardRef)((function(e,t){return Object(xe.jsx)(je.a,Object(u.a)(Object(u.a)({},e),{},{ref:t}))})),Filter:Object(f.forwardRef)((function(e,t){return Object(xe.jsx)(se.a,Object(u.a)(Object(u.a)({},e),{},{ref:t}))})),FirstPage:Object(f.forwardRef)((function(e,t){return Object(xe.jsx)(ue.a,Object(u.a)(Object(u.a)({},e),{},{ref:t}))})),LastPage:Object(f.forwardRef)((function(e,t){return Object(xe.jsx)(pe.a,Object(u.a)(Object(u.a)({},e),{},{ref:t}))})),NextPage:Object(f.forwardRef)((function(e,t){return Object(xe.jsx)(te.a,Object(u.a)(Object(u.a)({},e),{},{ref:t}))})),PreviousPage:Object(f.forwardRef)((function(e,t){return Object(xe.jsx)(Z.a,Object(u.a)(Object(u.a)({},e),{},{ref:t}))})),ResetSearch:Object(f.forwardRef)((function(e,t){return Object(xe.jsx)(ae.a,Object(u.a)(Object(u.a)({},e),{},{ref:t}))})),Search:Object(f.forwardRef)((function(e,t){return Object(xe.jsx)(Oe.a,Object(u.a)(Object(u.a)({},e),{},{ref:t}))})),SortArrow:Object(f.forwardRef)((function(e,t){return Object(xe.jsx)(q.a,Object(u.a)(Object(u.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(f.forwardRef)((function(e,t){return Object(xe.jsx)(be.a,Object(u.a)(Object(u.a)({},e),{},{ref:t}))})),ViewColumn:Object(f.forwardRef)((function(e,t){return Object(xe.jsx)(we.a,Object(u.a)(Object(u.a)({},e),{},{ref:t}))}))};function ke(e,t,r){var a=e.filter((function(e){return e[t]===r}));if(a.length>0)return a[0]}function Re(e,t,r,a,n){var i=Object(xe.jsx)("div",{}),o="$";a.toUpperCase().includes("REVV")&&(o="REVV");var c=a.replace(/\D/g,"");if(e&&e.total>0){var l=e.total,s=e.hired,d=e.owner/l,u=s/l,f=!1;n||(d=.5,u=.5,f=!0);var p=!1;for(var v in t){t[v].unit=o;var b=1;if(t[v].prize<1||f){if(v<t.length-1){var h=parseInt(v)+1;t[h].rank-t[v].rank>1&&(p=!0,t[v].rankString=t[v].rank.toString()+" - "+(t[h].rank-1).toString(),b=parseInt(t[h].rank)-parseInt(t[v].rank))}else p&&(t[v].rankString=t[v].rank.toString()+"+*",b=3e3);t[v].rankString||(t[v].rankString=t[v].rank.toString());var j=t[v].prize*(f?1:c);t[v].hiredPrize=((f?1:u)*j/b).toFixed(2),t[v].ownerPrize=((f?1:d)*j/b).toFixed(2)}}i=Object(xe.jsxs)(I.a,{children:[Object(xe.jsx)(N.a,{children:Object(xe.jsxs)(M.a,{children:[Object(xe.jsx)(W.a,{children:"Rank"}),Object(xe.jsxs)(W.a,{children:["Driver Prize ",r&&"("+(100*d).toFixed(2)+"%)"]}),r&&Object(xe.jsxs)(W.a,{children:["Hired Prize (",(100*u).toFixed(2),"%)"]})]})}),Object(xe.jsx)(_.a,{children:t.map((function(e){return Object(xe.jsxs)(M.a,{children:[Object(xe.jsx)(W.a,{children:e.rankString?e.rankString:e.rank}),Object(xe.jsxs)(W.a,{children:[r?e.ownerPrize:e.prize," ",o]}),r&&Object(xe.jsxs)(W.a,{children:[e.hiredPrize," ",o]})]})}))})]})}else i=Object(xe.jsx)(S.a,{sx:{minWidth:275},children:Object(xe.jsx)(D.a,{align:"center",children:Object(xe.jsx)("h1",{children:"Prize Data Not Available"})})});return i}var Pe=function(e){Object(s.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(c.a)(this,r),(a=t.call(this,e)).getPrizeData=Object(o.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.props.eventData.id.toUpperCase(),e.next=3,m.get("prizes",{params:{sessionID:r}}).then((function(e){t=e.data[0],a.setPrizeData(t)})).catch((function(e){console.error(e)}));case 3:case"end":return e.stop()}}),e)}))),a.state={prizeTable:Object(xe.jsx)(F.a,{}),prizeData:void 0},a}return Object(l.a)(r,[{key:"setPrizeData",value:function(e){this.setState({prizeData:e}),this.generatePrizeTableContent(e,this.props.eventData.data.prize,this.props.eventData.data.splitLeaderboard,this.props.eventData.data.prize_total.toString(),this.props.eventData.data.dynamicPrizePoolRatio)}},{key:"generatePrizeTableContent",value:function(e,t,r,a,n){this.setPrizeTable(Re(e,t,r,a,n))}},{key:"setPrizeTable",value:function(e){this.setState({prizeTable:e})}},{key:"componentDidMount",value:function(){this.getPrizeData()}},{key:"render",value:function(){return Object(xe.jsx)("div",{children:this.state.prizeTable})}}]),r}(f.Component),Ve=function(e){var t=e.children,r=e.onClose,n=a(e,ye);return Object(xe.jsxs)(C.a,Object(u.a)(Object(u.a)({sx:{m:0,p:2}},n),{},{children:[t,r?Object(xe.jsx)(A.a,{"aria-label":"close",onClick:r,style:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:Object(xe.jsx)(Y.a,{})}):null]}))},ze=[{title:"Series",field:"data.series",hidden:!0},{title:"Name",field:"data.name",filterPlaceholder:"Filter Name"},{title:"View Pizes",field:"",render:function(e){return new Date(e.endTimestamp).getTime()<(new Date).getTime()?Object(xe.jsx)(V,{trigger:Object(xe.jsx)("a",{children:"View Prizes"}),position:"bottom center",closeOnDocumentClick:!1,modal:!0,closeOnEscape:!0,children:function(t){return Object(xe.jsxs)(T.a,{open:!0,onClose:t,children:[Object(xe.jsx)(Ve,{id:"customized-dialog-title",onClose:t,children:"Prize Distribution"}),Object(xe.jsx)(Pe,{eventData:e})]})}}):Object(xe.jsxs)("div",{children:[new Date(e.startTimestamp).getTime()<(new Date).getTime()?"In Progress":"Upcoming","..."]})}},{title:"Start",field:"startTimestamp",type:"date",filterPlaceholder:"Filter Start"},{title:"End",field:"endTimestamp",type:"date",filterPlaceholder:"Filter End"},{title:"Track",field:"data.track",filterPlaceholder:"Filter Track"},{title:"Laps",field:"data.lapCount",filterPlaceholder:"Filter Laps"},{title:"Weather",field:"data.weather",filterPlaceholder:"Filter Weather"},{title:"Total Prize",field:"data.prize_total_formatted",filterPlaceholder:"Filter Prize"},{title:"id",field:"id",hidden:!0},{title:"percentagePrizePool",field:"data.percentagePrizePool",hidden:!0},{title:"dynamicPrizePoolRatio",field:"data.dynamicPrizePoolRatio",hidden:!0},{title:"splitLeaderboard",field:"data.splitLeaderboard",hidden:!0}];function Se(e){return e.map((function(e){return e.startTimestamp=new Date(parseFloat(e.startTimestamp)),e.endTimestamp=new Date(parseFloat(e.endTimestamp)),e.data.prize_total.toString().includes("REVV")?e.data.prize_total_formatted=e.data.prize_total:e.data.prize_total_formatted=e.data.prize_total.toString()+" $",e})),(e=e.filter((function(e){return!e.data.practice}))).sort((function(e,t){return new Date(t.startTimestamp)-new Date(e.startTimestamp)})),e}var De=function(e){Object(s.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(c.a)(this,r),(a=t.call(this,e)).BasicTable=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("events").then((function(e){t=Se(t=e.data),a.setEventData(t),a.setEventDataLoaded(!0)})).catch((function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)}))),a.getREVVPrice=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("price?ids=revv&vs_currencies=usd").then((function(e){a.setREVVPrice(e.data.revv.usd)})).catch((function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.setWalletPosition=function(){var e=Object(o.a)(i.a.mark((function e(t){var r,n,o,c,l,s,d,u,f;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({walletPositions:t}),n=(n=JSON.parse(JSON.stringify(a.state.columns))).filter((function(e){return""!==e.field})),o=[{title:"Rank",field:"rank",filterPlaceholder:"Filter Rank"},{title:"REVV",field:"REVVReward",filterPlaceholder:"Filter REVV"}],(r=n).splice.apply(r,[2,0].concat(o)),a.setState({columns:n}),a.getREVVPrice(),c=0,l=0,s=0,d=0,u=JSON.parse(JSON.stringify(a.state.eventData)),e.next=14,m.get("prizes").then((function(e){f=e.data})).catch((function(e){console.error(e)}));case 14:u.forEach((function(e){e.REVVReward=0,e.dollarReward=0,e.rank=0;var r=ke(f,"session_id",e.id.toUpperCase());if(r&&t[e.id]){var a=t[e.id],n=parseInt(a.rank);e.rank=n,Re(r,e.data.prize,e.data.splitLeaderboard,e.data.prize_total.toString(),e.data.dynamicPrizePoolRatio);for(var i=e.data.prize,o=void 0,u=0;u<i.length;u++){var p=i[u],v=u+1;if(v===i.length){o=p;break}if(n>=parseInt(p.rank)&&n<parseInt(i[v].rank)){o=p;break}}if(e.unit="REVV",o){var b="";b=a.leaderboard_id.includes("SPLIT")?a.hired?o.hiredPrize:o.ownerPrize:o.prize,"REVV"===o.unit?(d+=1,e.REVVReward+=parseFloat(b),c+=parseFloat(b),s+=n):(e.unit="$",e.dollarReward+=parseFloat(b),l+=parseFloat(b))}}})),s>0&&c>0?a.setAverages(c/d,s/d):a.setAverages(0,0),a.setTotalPrizes(c,l),a.setEventData(u),a.setEventDataLoaded(!0);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.getWalletPositions=Object(o.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setEventDataLoaded(!1),t={},e.next=4,m.get("walletPositions",{params:{walletAddress:a.state.walletAddress.toUpperCase()}});case 4:return r=(r=e.sent).data,a.state.eventData.forEach((function(e){var a="GAME_SESSION_ALPHA_A_";if(e.data.splitLeaderboard){var n=a+e.id.toUpperCase()+"_SPLIT_OWNER",i=a+e.id.toUpperCase()+"_SPLIT_HIRED",o=ke(r,"leaderboard_id",n),c=ke(r,"leaderboard_id",i);o?t[e.id]=o:c&&(c.hired=!0,t[e.id]=c)}else{var l=a+e.id.toUpperCase(),s=ke(r,"leaderboard_id",l);s&&(t[e.id]=s)}})),e.next=9,a.setWalletPosition(t);case 9:case"end":return e.stop()}}),e)}))),a.state={eventData:void 0,eventDataLoaded:!1,walletAddress:"",walletPositions:void 0,columns:ze,totalREVV:void 0,totalDollars:void 0,REVVPrice:0,averageRank:0,averageREVV:0},a}return Object(l.a)(r,[{key:"setEventData",value:function(e){this.setState({eventData:e})}},{key:"setEventDataLoaded",value:function(e){this.setState({eventDataLoaded:e})}},{key:"componentDidMount",value:function(){this.BasicTable()}},{key:"setWalletAddress",value:function(e){this.setState({walletAddress:e,walletPositions:void 0,columns:ze,totalREVV:void 0,totalDollars:void 0,REVVPrice:0,averageRank:0,averageREVV:0})}},{key:"filterWallet",value:function(e){return e.wallet===this.walletAddress}},{key:"setREVVPrice",value:function(e){this.setState({REVVPrice:e})}},{key:"setTotalPrizes",value:function(e,t){this.setState({totalREVV:e,totalDollars:t})}},{key:"setAverages",value:function(e,t){this.setState({averageREVV:e,averageRank:t})}},{key:"render",value:function(){var e=this;return Object(xe.jsxs)(L.a,{container:!0,spacing:3,children:[Object(xe.jsx)(L.a,{item:!0,md:12,xs:12,children:Object(xe.jsx)(B.a,{id:"wallet-address",label:"Wallet Address",variant:"outlined",fullWidth:!0,focused:!0,placeholder:"0x000...",onChange:function(t){return e.setWalletAddress(t.target.value)}})}),Object(xe.jsx)(L.a,{item:!0,xs:12,alignContent:"center",alignItems:"center",children:Object(xe.jsx)(z.a,{color:"primary",fullWidth:!0,variant:"contained",onClick:function(){return e.getWalletPositions()},children:"Get Wallet List"})}),this.state.totalREVV&&Object(xe.jsxs)(p.a.Fragment,{children:[Object(xe.jsx)(L.a,{item:!0,md:6,xs:12,alignContent:"center",alignItems:"center",children:Object(xe.jsx)(B.a,{id:"totalRevv",label:"Total REVV (New Prize Structure)",variant:"outlined",disabled:!0,fullWidth:!0,value:this.state.totalREVV.toFixed(2).toString()+" REVV"+(this.state.REVVPrice?" ("+(this.state.REVVPrice*this.state.totalREVV).toFixed(2).toString()+" $)":"")})}),Object(xe.jsx)(L.a,{item:!0,md:6,xs:12,alignContent:"center",alignItems:"center",children:Object(xe.jsx)(B.a,{id:"totalDollars",label:"Total Dollars (Old Prize Structure)",variant:"outlined",disabled:!0,fullWidth:!0,value:this.state.totalDollars.toFixed(2).toString()+" $"})})]}),this.state.averageRank>0&&Object(xe.jsxs)(p.a.Fragment,{children:[Object(xe.jsx)(L.a,{item:!0,md:6,xs:12,alignContent:"center",alignItems:"center",children:Object(xe.jsx)(B.a,{id:"averageRank",label:"Average Rank (New Prize Structure)",variant:"outlined",disabled:!0,fullWidth:!0,value:this.state.averageRank.toFixed(0).toString()})}),Object(xe.jsx)(L.a,{item:!0,md:6,xs:12,alignContent:"center",alignItems:"center",children:Object(xe.jsx)(B.a,{id:"averageREVV",label:"Average REVV Earned (New Prize Structure)",variant:"outlined",disabled:!0,fullWidth:!0,value:this.state.averageREVV.toFixed(2).toString()+" REVV"+(this.state.REVVPrice?" ("+(this.state.REVVPrice*this.state.averageREVV).toFixed(2).toString()+" $)":"")})})]}),Object(xe.jsx)(L.a,{item:!0,xs:12,children:Object(xe.jsx)(b.a,{theme:Object(X.a)(),style:{width:"100%",display:"grid"},title:"REVV Leaderboards",columns:this.state.columns,data:this.state.eventData,icons:Ee,isLoading:!this.state.eventDataLoaded,options:{pageSize:10,pageSizeOptions:[5,10,20,{value:this.state.eventData?parseInt(this.state.eventData.length):100,label:"All"}],filtering:!0,search:!1,selection:!0},onSelectionChange:function(t){var r=0,a=0,n=0,i=0;0===t.length&&(t=e.state.eventData),t.forEach((function(e){r+=parseFloat(e.REVVReward),a+=parseFloat(e.dollarReward),"REVV"===e.unit&&(n+=parseFloat(e.rank),i+=1)})),n>0&&r>0?e.setAverages(r/i,n/i):e.setAverages(0,0),e.setTotalPrizes(r,a)}})})]})}}]),r}(f.Component)},787:function(e,t,r){"use strict";var a=r(24),n=r(47);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(0)),o=(0,a(r(50)).default)(i.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=o}}]);
//# sourceMappingURL=7.87ca51f3.chunk.js.map